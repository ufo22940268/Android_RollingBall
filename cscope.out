cscope 15 $HOME/workspace/Android_RollingBall -q 0000000353 0000029895
	@gen/hongbosb/rollingball/BuildConfig.java

2 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

4 
public
 
fš®
 cÏs 
	cBudCÚfig
 {

5 
public
 
fš®
 
boŞ—n
 
	mDEBUG
 = 
Œue
;

	@gen/hongbosb/rollingball/R.java

8 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

10 
public
 
fš®
 cÏs 
	cR
 {

11 
public
 
fš®
 cÏs 
	c©Œ
 {

13 
public
 
fš®
 cÏs 
	cd¿wabË
 {

14 
public
 
fš®
 
	gic_Ïunch”
=0x7f020000;

15 
public
 
fš®
 
	gwood_‹xtu»
=0x7f020001;

17 
public
 
fš®
 cÏs 
	cÏyout
 {

18 
public
 
fš®
 
	gmaš
=0x7f030000;

20 
public
 
fš®
 cÏs 
	c¿w
 {

21 
public
 
fš®
 
	g’vœÚm’t_äagm’t_shad”
=0x7f040000;

22 
public
 
fš®
 
	g’vœÚm’t_v”‹x_shad”
=0x7f040001;

24 
public
 
fš®
 cÏs 
	c¡ršg
 {

25 
public
 
fš®
 
	g­p_Çme
=0x7f050000;

	@src/hongbosb/rollingball/GLInputable.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
public
 
š‹rçû
 
	gGLIÅubË
 {

4 
boŞ—n
 
ÚKeyDown
(
keyCode
);

	@src/hongbosb/rollingball/GLTouchable.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
impÜt
 
	gªdroid
.
	gv›w
.*;

5 
public
 
š‹rçû
 
	gGLTouchabË
 {

6 
boŞ—n
 
ÚTouch
(
MÙiÚEv’t
 
ev’t
);

	@src/hongbosb/rollingball/MainActivity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

4 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

7 
public
 cÏs 
	cMašAùiv™y
 
ex‹nds
 
	mAùiv™y


9 
´iv©e
 
MyGLSurçûV›w
 
	mmGlV›w
;

12 @
Ov”ride


13 
public
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
)

15 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

16 
mGlV›w
 = 
Ãw
 
	`MyGLSurçûV›w
(
this
);

17 
	`£tCÚ‹ÁV›w
(
mGlV›w
);

20 @
Ov”ride


21 
public
 
boŞ—n
 
	$ÚKeyDown
(
keyCode
, 
KeyEv’t
 
ev’t
) {

22 ià(
keyCode
 =ğ
KeyEv’t
.
KEYCODE_VOLUME_UP
 || keyCod=ğKeyEv’t.
KEYCODE_VOLUME_DOWN
) {

23 
mGlV›w
.
	`ÚKeyDown
(
keyCode
);

24  
Œue
;

27  
çl£
;

28 
	}
}

	@src/hongbosb/rollingball/MyGLSurfaceView.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
impÜt
 
	gªdroid
.
	g­p
.*;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

5 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

6 
impÜt
 
	gªdroid
.
	gÃt
.*;

7 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gut
.*;

10 
impÜt
 
	gªdroid
.
	gv›w
.*;

11 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

13 
impÜt
 
	gjava
.
	gut
.*;

14 
impÜt
 
	gjavax
.
	gmiüÛd™iÚ
.
	gkhrÚos
.
	gegl
.*;

15 
impÜt
 
	gjavax
.
	gmiüÛd™iÚ
.
	gkhrÚos
.
	gİ’gËs
.*;

17 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
.*;

18 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
.*;

20 
public
 cÏs 
	cMyGLSurçûV›w
 
ex‹nds
 
GLSurçûV›w
 
im¶em’ts
 
	mGLIÅubË
 {

22 
´iv©e
 
MyR’d””
 
	mmR’d”
;

24 
public
 
	$MyGLSurçûV›w
(
CÚ‹xt
 
cÚ‹xt
) {

25 
	`su³r
(
cÚ‹xt
);

26 
	`£tEGLCÚ‹xtCl›ÁV”siÚ
(2);

27 
mR’d”
 = 
Ãw
 
	`MyR’d””
(
cÚ‹xt
);

28 
	`£tR’d””
(
mR’d”
);

31 
public
 
boŞ—n
 
	$ÚKeyDown
(
keyCode
) {

32 
mR’d”
.
	`ÚKeyDown
(
keyCode
);

33  
Œue
;

34 
	}
}

36 @
Ov”ride


37 
public
 
boŞ—n
 
	$ÚTouchEv’t
(
MÙiÚEv’t
 
ev’t
) {

38  
mR’d”
.
	`ÚTouch
(
ev’t
);

39 
	}
}

41 
public
 
şass
 
MyR’d””
 
im¶em’ts
 
	gGLSurçûV›w
.
	gR’d””
, 
	gGLIÅubË
 {

43 
´iv©e
 
CÚ‹xt
 
	gmCÚ‹xt
;

45 
´iv©e
 
GLEnvœÚm’tEÁ™y
 
	gmEÁ™y
;

47 
public
 
MyR’d””
(
CÚ‹xt
 
cÚ‹xt
) {

48 
	gmCÚ‹xt
 = 
cÚ‹xt
;

51 
public
 
ÚSurçûC»©ed
(
GL10
 
gl
, 
EGLCÚfig
 
cÚfig
) {

54 
public
 
ÚSurçûChªged
(
GL10
 
gl
, 
width
, 
height
) {

55 
	gSh¬edD©a
.
	gmWšdowWidth
 = 
width
;

56 
	gSh¬edD©a
.
	gmWšdowHeight
 = 
height
;

58 
	gGLES20
.
glV›wpÜt
(0, 0, 
width
, 
height
);

59 
	gGLES20
.
glCË¬CŞÜ
(0.0f, 0.0f, 0.0f, 1.0f);

60 
	gmEÁ™y
 = 
Ãw
 
GLEnvœÚm’tEÁ™y
(
mCÚ‹xt
);

63 
public
 
ÚD¿wF¿me
(
GL10
 
gl
) {

64 
	gGLES20
.
glCË¬
(
GLES20
.
GL_COLOR_BUFFER_BIT
 | GLES20.
GL_DEPTH_BUFFER_BIT
);

65 
	gmEÁ™y
.
d¿w
();

68 @
Ov”ride


69 
public
 
boŞ—n
 
ÚKeyDown
(
keyCode
) {

70 ià(
	gmEÁ™y
 !ğ
nuÎ
) {

71  
mEÁ™y
.
ÚKeyDown
(
keyCode
);

73  
	gçl£
;

76 
public
 
boŞ—n
 
ÚTouch
(
MÙiÚEv’t
 
ev’t
) {

77 ià(
	gmEÁ™y
 !ğ
nuÎ
) {

78  
mEÁ™y
.
ÚTouch
(
ev’t
);

80  
	gçl£
;

	@src/hongbosb/rollingball/MyRenderer.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

	@src/hongbosb/rollingball/NaturalConstants.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
public
 cÏs 
	cN©u¿lCÚ¡ªts
 {

4 
public
 
fš®
 
	mFLOAT_SIZE
 = 4;

	@src/hongbosb/rollingball/data/EnvironmentData.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
;

3 
public
 cÏs 
	cEnvœÚm’tD©a
 {

5 
public
 
fš®
 
	mNORMAL_SCALE
 = 80.0f;

6 
public
 
fš®
 
	mBOARD_SIZE
 = 100f;

8 
public
 
fš®
 
	mWALL_HEIGHT
 = 40;

9 
public
 
fš®
 
	mWALL_WIDTH
 = 20;

10 
public
 
fš®
 
	mWALL_ABS_INNER_X
 = 
BOARD_SIZE
;

11 
public
 
fš®
 
	mWALL_ABS_INNER_Y
 = 
BOARD_SIZE
;

12 
public
 
fš®
 
	mWALL_ABS_OUTER_X
 = 
BOARD_SIZE
 + 
WALL_WIDTH
;

13 
public
 
fš®
 
	mWALL_ABS_OUTER_Y
 = 
BOARD_SIZE
 + 
WALL_WIDTH
;

15 
public
 
fš®
 
	mVERTEX_COUNT_WALL_TOP
 = 10;

16 
public
 
fš®
 
	mVERTEX_COUNT_WALL_INNER_FACE
 = 10;

17 
public
 
fš®
 
	mVERTEX_COUNT_WALL_OUTER_FACE
 = 10;

18 
public
 
fš®
 
	mVERTEX_COUNT_FLOOR
 = 4;

20 
public
 
fš®
 [] 
	mITEMS_VERTEX_COUNT
 = {

21 
VERTEX_COUNT_WALL_TOP
,

22 
VERTEX_COUNT_WALL_INNER_FACE
,

23 
VERTEX_COUNT_WALL_OUTER_FACE
,

24 
VERTEX_COUNT_FLOOR
,

27 
public
 
fš®
 
	gTRIANGLE_POS_ARRAY
[] = {

29 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

30 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

31 -
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

32 -
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

33 
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

34 
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

35 
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

36 
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

37 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

38 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

41 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

42 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

43 -
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 0 ,

44 -
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

45 
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 0 ,

46 
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

47 
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

48 
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

49 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

50 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

53 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

54 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 0 ,

55 -
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

56 -
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 0 ,

57 
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

58 
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 0 ,

59 
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

60 
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 0 ,

61 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

62 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 0 ,

65 
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

66 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

67 
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 0 ,

68 -
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 0 ,

71 
public
 
fš®
 
	gNORMAL_ARRAY
[] = {

73 0.0à, 0.0à, 
NORMAL_SCALE
 ,

74 0.0à, 0.0à, 
NORMAL_SCALE
 ,

75 0.0à, 0.0à, 
NORMAL_SCALE
 ,

76 0.0à, 0.0à, 
NORMAL_SCALE
 ,

77 0.0à, 0.0à, 
NORMAL_SCALE
 ,

78 0.0à, 0.0à, 
NORMAL_SCALE
 ,

79 0.0à, 0.0à, 
NORMAL_SCALE
 ,

80 0.0à, 0.0à, 
NORMAL_SCALE
 ,

81 0.0à, 0.0à, 
NORMAL_SCALE
 ,

82 0.0à, 0.0à, 
NORMAL_SCALE
 ,

85 
NORMAL_SCALE
 , 0.0f , 0.0f ,

86 
NORMAL_SCALE
 , 0.0f , 0.0f ,

87 
NORMAL_SCALE
 , 0.0f , 0.0f ,

88 
NORMAL_SCALE
 , 0.0f , 0.0f ,

89 0.0à, 
NORMAL_SCALE
 , 0.0f ,

90 0.0à, 
NORMAL_SCALE
 , 0.0f ,

91 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

92 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

93 0.0à, -
NORMAL_SCALE
 , 0.0f ,

94 0.0à, -
NORMAL_SCALE
 , 0.0f ,

97 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

98 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

99 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

100 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

101 0.0à, -
NORMAL_SCALE
 , 0.0f ,

102 0.0à, -
NORMAL_SCALE
 , 0.0f ,

103 
NORMAL_SCALE
 , 0.0f , 0.0f ,

104 
NORMAL_SCALE
 , 0.0f , 0.0f ,

105 0.0à, 
NORMAL_SCALE
 , 0.0f ,

106 0.0à, 
NORMAL_SCALE
 , 0.0f ,

109 0.0à, 0.0à, 
NORMAL_SCALE
 ,

110 0.0à, 0.0à, 
NORMAL_SCALE
 ,

111 0.0à, 0.0à, 
NORMAL_SCALE
 ,

112 0.0à, 0.0à, 
NORMAL_SCALE
 ,

115 
public
 
fš®
 
	gVERTEX_COLOR_ARRAY
[] = {

159 
public
 
fš®
 
	gTEXTURE_COORD_ARRAY
[] = {

	@src/hongbosb/rollingball/data/SharedData.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
;

3 
public
 cÏs 
	cSh¬edD©a
 {

4 
public
 
	mmWšdowHeight
;

5 
public
 
	mmWšdowWidth
;

	@src/hongbosb/rollingball/model/GLBallEntity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gjava
.
	gut
.*;

13 
impÜt
 
	gjava
.
	gnio
.*;

15 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
.*;

16 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.*;

17 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
.*;

19 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gN©u¿lCÚ¡ªts
.*;

21 
public
 cÏs 
	cGLB®lEÁ™y
 
ex‹nds
 
	mGLEÁ™y
 {

23 
public
 
fš®
 
	mBALL_RADIUS
 = 10;

25 
´Ùeùed
 
	mmProg¿m
;

27 
´iv©e
 
FlßtBufãr
 
	mmPosBufãr
;

28 
´iv©e
 
FlßtBufãr
 
	mmNÜm®Bufãr
;

29 
´iv©e
 
FlßtBufãr
 
	mmCŞÜBufãr
;

30 
´iv©e
 
FlßtBufãr
 
	mmTexCoÜdBufãr
;

32 
´iv©e
 
	mmaPosHªdËr
;

33 
´iv©e
 
	mmaCŞÜHªdËr
;

34 
´iv©e
 
	mmaNÜm®HªdËr
;

35 
´iv©e
 
	mmuMVPM©rixHªdËr
;

36 
´iv©e
 
	mmuMVM©rixHªdËr
;

37 
´iv©e
 
	mmuLightPosHªdËr
;

39 
´iv©e
 [] 
	mmMVPM©rix
 = 
Ãw
 [16];

40 
´iv©e
 [] 
	mmLightMVM©rix
 = 
Ãw
 [16];

41 
´iv©e
 [] 
	mmV›wM©rix
 = 
Ãw
 [16];

42 
´iv©e
 [] 
	mmMod–M©rix
 = 
Ãw
 [16];

43 
´iv©e
 [] 
	mmProjeùiÚM©rix
 = 
Ãw
 [16];

45 
´iv©e
 
	mmT¿n¦©eX
 = 0f;

46 
´iv©e
 
	mmT¿n¦©eY
 = 0f;

49 
´iv©e
 
	mmF®lBÙtom
 = -;

51 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

53 
´iv©e
 
Sph”e
 
	mmSph”e
;

55 
public
 
	$GLB®lEÁ™y
(
CÚ‹xt
 
cÚ‹xt
) {

56 
mCÚ‹xt
 = 
cÚ‹xt
;

58 
SŒšg
[] 
©Œibs
 = {"a_VertexPos", "a_Color", "a_Normal"};

59 
Prog¿mLßd”
 
pLßd”
 = 
Ãw
 
	`Prog¿mLßd”
(
cÚ‹xt
,

60 "¥h”e_v”‹x_shad”.gl¦", "¥h”e_äagm’t_shad”.gl¦", 
©Œibs
 );

61 
mProg¿m
 = 
pLßd”
.
	`lßd
();

63 
maPosHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_VertexPos");

64 
maCŞÜHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_Color");

65 
maNÜm®HªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_Normal");

67 
muMVPM©rixHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_MVPMatrix");

68 
muMVM©rixHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_MVMatrix");

69 
muLightPosHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_LightPos");

71 
mProjeùiÚM©rix
 = 
CommÚUts
.
	`š™ProjeùiÚM©rix
();

72 
mV›wM©rix
 = 
CommÚUts
.
	`š™V›wM©rix
();

75 
M©rix
.
	`Œª¦©eM
(
mMod–M©rix
, 0, 0f, 0f, 
BALL_RADIUS
);

77 
mSph”e
 = 
Ãw
 
	`Sph”e
(
BALL_RADIUS
, 8);

79 
GLES20
.
	`glEÇbË
(GLES20.
GL_DEPTH_TEST
);

80 
GLES20
.
	`glEÇbË
(GLES20.
GL_CULL_FACE
);

83 
´iv©e
 
boŞ—n
 
	$isM“tEdge
(
d–X
, 
d–Y
) {

84 ià(
M©h
.
	`abs
(
mT¿n¦©eX
 + 
d–X
è+ 
BALL_RADIUS
 > 
Sh¬edD©a
.
BOARD_SIZE
 ||

85 
M©h
.
	`abs
(
mT¿n¦©eY
 + 
d–Y
è+ 
BALL_RADIUS
 > 
Sh¬edD©a
.
BOARD_SIZE
) {

86  
Œue
;

88  
çl£
;

90 
	}
}

92 
public
 
	$Œª¦©e
(
d–X
, 
d–Y
) {

93 ià(!
	`isM“tEdge
(
d–X
, 
d–Y
)) {

94 
mT¿n¦©eX
 +ğ
d–X
;

95 
mT¿n¦©eY
 +ğ
d–Y
;

97 
	}
}

99 
public
 
	$d¿w
() {

100 
GLES20
.
	`glU£Prog¿m
(
mProg¿m
);

102 
M©rix
.
	`£tId’t™yM
(
mMod–M©rix
, 0);

104 
GLES20
.
	`glUnifÜm3fv
(
muLightPosHªdËr
, 1, 
CommÚUts
.
	`š™LightPos™iÚVeùÜ
(), 0);

105 
M©rix
.
	`muÉlyMM
(
mLightMVM©rix
, 0, 
mV›wM©rix
, 0, 
mMod–M©rix
, 0);

106 
GLES20
.
	`glUnifÜmM©rix4fv
(
muMVM©rixHªdËr
, 1, 
çl£
, 
mLightMVM©rix
, 0);

108 
M©rix
.
	`Œª¦©eM
(
mMod–M©rix
, 0, 
mT¿n¦©eX
, 
mT¿n¦©eY
, 0);

109 
M©rix
.
	`muÉlyMM
(
mMVPM©rix
, 0, 
mV›wM©rix
, 0, 
mMod–M©rix
, 0);

110 
M©rix
.
	`muÉlyMM
(
mMVPM©rix
, 0, 
mProjeùiÚM©rix
, 0, mMVPMatrix, 0);

111 
GLES20
.
	`glUnifÜmM©rix4fv
(
muMVPM©rixHªdËr
, 1, 
çl£
, 
mMVPM©rix
, 0);

113 
mSph”e
.
	`d¿w
(
maPosHªdËr
, 
maNÜm®HªdËr
, 
maCŞÜHªdËr
);

114 
	}
}

	@src/hongbosb/rollingball/model/GLEntity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

4 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

7 
impÜt
 
	gjava
.
	gut
.*;

9 
public
 
ab¡¿ù
 cÏs 
	cGLEÁ™y
 
im¶em’ts
 
	mGLTouchabË
 {

11 
´iv©e
 
	mLi¡
<
	mGLEÁ™y
> 
	mmChdEÁ™›s
 = 
Ãw
 
A¼ayLi¡
<
GLEÁ™y
>();

13 
public
 
ab¡¿ù
 
d¿w
();

15 
public
 
	$addEÁ™y
(
GLEÁ™y
 
chd
) {

16 
mChdEÁ™›s
.
	`add
(
chd
);

19 @
Ov”ride


20 
public
 
boŞ—n
 
	$ÚTouch
(
MÙiÚEv’t
 
ev’t
) {

21 
GLEÁ™y
 
’t™y
 : 
mChdEÁ™›s
) {

22 
’t™y
.
	`ÚTouch
(
ev’t
);

24  
çl£
;

25 
	}
}

	@src/hongbosb/rollingball/model/GLEnvironmentEntity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gjava
.
	gut
.*;

13 
impÜt
 
	gjava
.
	gnio
.*;

15 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
.*;

16 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.*;

17 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
.*;

19 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gN©u¿lCÚ¡ªts
.*;

21 
public
 cÏs 
	cGLEnvœÚm’tEÁ™y
 
ex‹nds
 
GLEÁ™y
 
im¶em’ts
 
	mGLIÅubË
 {

23 
public
 
fš®
 
	mROTATE_SCALE_FACTOR
 = 0.5f;

24 
public
 
fš®
 
	mTRANSLATE_SCALE_FACTOR
 = 0.5f;

26 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

28 
´iv©e
 
	mmP»viousX
;

29 
´iv©e
 
	mmP»viousY
;

31 
´Ùeùed
 
	mmProg¿m
;

33 
´iv©e
 
FlßtBufãr
 
	mmPosBufãr
;

34 
´iv©e
 
FlßtBufãr
 
	mmNÜm®Bufãr
;

35 
´iv©e
 
FlßtBufãr
 
	mmCŞÜBufãr
;

36 
´iv©e
 
FlßtBufãr
 
	mmTexCoÜdBufãr
;

38 
´iv©e
 
	mmaPosHªdËr
;

39 
´iv©e
 
	mmaTexCoÜdHªdËr
;

40 
´iv©e
 
	mmaCŞÜHªdËr
;

41 
´iv©e
 
	mmaNÜm®HªdËr
;

42 
´iv©e
 
	mmuMVPM©rixHªdËr
;

43 
´iv©e
 
	mmuMVM©rixHªdËr
;

44 
´iv©e
 
	mmuSam¶”HªdËr
;

45 
´iv©e
 
	mmuLightPosHªdËr
;

46 
´iv©e
 
	mmTextu»HªdËr
;

48 
´iv©e
 [] 
	mmMVPM©rix
 = 
Ãw
 [16];

49 
´iv©e
 [] 
	mmV›wM©rix
 = 
Ãw
 [16];

50 
´iv©e
 [] 
	mmMod–M©rix
 = 
Ãw
 [16];

51 
´iv©e
 [] 
	mmProjeùiÚM©rix
 = 
Ãw
 [16];

53 
´iv©e
 
	mmV›wX
 = 0.0f;

54 
´iv©e
 
	mmV›wY
 = 0.0f;

55 
´iv©e
 
	mmV›wZ
 = 200.0f;

58 
´iv©e
 
	mmV”tiÿlRÙ©eAngË
 = 0.0f;

61 
´iv©e
 
	mmHÜizÚlRÙ©eAngË
 = 0.0f;

63 
´iv©e
 
	mmLightRÙ©eAngË
 = 0.0f;

65 
´iv©e
 
GLB®lEÁ™y
 
	mmB®lEÁ™y
;

67 
public
 
	$GLEnvœÚm’tEÁ™y
(
CÚ‹xt
 
cÚ‹xt
) {

68 
mCÚ‹xt
 = 
cÚ‹xt
;

71 
SŒšg
[] 
©Œibs
 = {"a_VertexPos", "a_TexCoord", "a_Color", "a_Normal",};

72 
Prog¿mLßd”
 
pLßd”
 = 
Ãw
 
	`Prog¿mLßd”
(
cÚ‹xt
,

73 "’vœÚm’t_v”‹x_shad”.gl¦", "’vœÚm’t_äagm’t_shad”.gl¦", 
©Œibs
 );

74 
mProg¿m
 = 
pLßd”
.
	`lßd
();

76 
maPosHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_VertexPos");

77 
maTexCoÜdHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_TexCoord");

78 
maCŞÜHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_Color");

79 
maNÜm®HªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_Normal");

81 
muMVPM©rixHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_MVPMatrix");

82 
muMVM©rixHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_MVMatrix");

83 
muSam¶”HªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_Sampler");

84 
muLightPosHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_LightPos");

86 
mPosBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
TRIANGLE_POS_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

87 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

88 
mPosBufãr
.
	`put
(
EnvœÚm’tD©a
.
TRIANGLE_POS_ARRAY
).
	`pos™iÚ
(0);

90 
mNÜm®Bufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
NORMAL_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

91 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

92 
mNÜm®Bufãr
.
	`put
(
EnvœÚm’tD©a
.
NORMAL_ARRAY
).
	`pos™iÚ
(0);

94 
mCŞÜBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
VERTEX_COLOR_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

95 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

96 
mCŞÜBufãr
.
	`put
(
EnvœÚm’tD©a
.
VERTEX_COLOR_ARRAY
).
	`pos™iÚ
(0);

98 
mProjeùiÚM©rix
 = 
CommÚUts
.
	`š™ProjeùiÚM©rix
();

99 
mV›wM©rix
 = 
CommÚUts
.
	`š™V›wM©rix
();

102 
Textu»Lßd”
 
tLßd”
 = 
Ãw
 
	`Textu»Lßd”
(
cÚ‹xt
, 
R
.
d¿wabË
.
wood_‹xtu»
);

103 
mTextu»HªdËr
 = 
tLßd”
.
	`lßd
();

105 
mTexCoÜdBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
TEXTURE_COORD_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

106 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

107 
mTexCoÜdBufãr
.
	`put
(
EnvœÚm’tD©a
.
TEXTURE_COORD_ARRAY
).
	`pos™iÚ
(0);

109 
GLES20
.
	`glEÇbË
(GLES20.
GL_DEPTH_TEST
);

110 
GLES20
.
	`glEÇbË
(GLES20.
GL_CULL_FACE
);

114 
mB®lEÁ™y
 = 
Ãw
 
	`GLB®lEÁ™y
(
mCÚ‹xt
);

115 
	`addEÁ™y
(
mB®lEÁ™y
);

118 @
Ov”ride


119 
public
 
boŞ—n
 
	$ÚKeyDown
(
keyCode
) {

120 ià(
keyCode
 =ğ
KeyEv’t
.
KEYCODE_VOLUME_UP
) {

121 
mV›wX
 += 0.3;

122  
Œue
;

123 } ià(
keyCode
 =ğ
KeyEv’t
.
KEYCODE_VOLUME_DOWN
) {

124 
mV›wX
 -= 0.3;

125  
Œue
;

127  
çl£
;

128 
	}
}

130 
´iv©e
 
	$rÙ©e
(
dV”t
, 
dHÜi
) {

131 
mV”tiÿlRÙ©eAngË
 +ğ
dV”t
;

132 
mHÜizÚlRÙ©eAngË
 +ğ
dHÜi
;

133 
	}
}

135 @
Ov”ride


136 
public
 
boŞ—n
 
	$ÚTouch
(
MÙiÚEv’t
 
ev’t
) {

137 
su³r
.
	`ÚTouch
(
ev’t
);

138 
x
 = 
ev’t
.
	`g‘X
();

139 
y
 = 
ev’t
.
	`g‘Y
();

140 ià(
ev’t
.
	`g‘AùiÚ
(è=ğ
MÙiÚEv’t
.
ACTION_MOVE
) {

141 
dx
 = 
x
 - 
mP»viousX
;

142 
dy
 = 
y
 - 
mP»viousY
;

146 
mB®lEÁ™y
.
	`Œª¦©e
(
dx
*
TRANSLATE_SCALE_FACTOR
, -
dy
*TRANSLATE_SCALE_FACTOR);

148 
mP»viousX
 = 
x
;

149 
mP»viousY
 = 
y
;

150  
Œue
;

151 
	}
}

153 
´iv©e
 
Tim”Task
 
	gmUpd©ePosTim”
 = 
Ãw
 
	$Tim”Task
() {

154 @
Ov”ride


155 
public
 
	`run
() {

156 
	`upd©eD©a
();

159 
´iv©e
 
	`upd©eD©a
() {

164 
mLightRÙ©eAngË
 -= 0.5;

166 
	}
};

168 
´iv©e
 
	$¡¬tTim”
() {

169 
Tim”
 
tim”
 = 
Ãw
 
	`Tim”
("view dataimer");

170 
tim”
.
	`scheduË
(
mUpd©ePosTim”
, 0, 10);

171 
	}
}

173 @
Ov”ride


174 
public
 
	$d¿w
() {

175 
GLES20
.
	`glU£Prog¿m
(
mProg¿m
);

177 
M©rix
.
	`£tId’t™yM
(
mMod–M©rix
, 0);

178 
M©rix
.
	`rÙ©eM
(
mMod–M©rix
, 0, 
mV”tiÿlRÙ©eAngË
, 0.0f, 1.0f, 0.0f);

179 
M©rix
.
	`rÙ©eM
(
mMod–M©rix
, 0, 
mHÜizÚlRÙ©eAngË
, 1.0f, 0.0f, 0.0f);

181 
M©rix
.
	`muÉlyMM
(
mMVPM©rix
, 0, 
mV›wM©rix
, 0, 
mMod–M©rix
, 0);

182 
GLES20
.
	`glUnifÜmM©rix4fv
(
muMVM©rixHªdËr
, 1, 
çl£
, 
mMVPM©rix
, 0);

184 
M©rix
.
	`muÉlyMM
(
mMVPM©rix
, 0, 
mProjeùiÚM©rix
, 0, mMVPMatrix, 0);

185 
GLES20
.
	`glUnifÜmM©rix4fv
(
muMVPM©rixHªdËr
, 1, 
çl£
, 
mMVPM©rix
, 0);

187 
GLES20
.
	`glUnifÜm3fv
(
muLightPosHªdËr
, 1, 
CommÚUts
.
	`š™LightPos™iÚVeùÜ
(), 0);

190 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maTexCoÜdHªdËr
,

191 2, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mTexCoÜdBufãr
);

192 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maTexCoÜdHªdËr
);

193 
GLES20
.
	`glUnifÜm1i
(
muSam¶”HªdËr
, 0);

195 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maCŞÜHªdËr
,

196 4, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mCŞÜBufãr
);

197 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maCŞÜHªdËr
);

199 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maPosHªdËr
,

200 3, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mPosBufãr
);

201 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maPosHªdËr
);

203 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maNÜm®HªdËr
,

204 3, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mNÜm®Bufãr
);

205 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maNÜm®HªdËr
);

207 
off£t
 = 0;

208 
couÁ
 : 
EnvœÚm’tD©a
.
ITEMS_VERTEX_COUNT
) {

209 
GLES20
.
	`glD¿wA¼ays
(GLES20.
GL_TRIANGLE_STRIP
, 
off£t
, 
couÁ
);

210 
off£t
 +ğ
couÁ
;

212 
mB®lEÁ™y
.
	`d¿w
();

213 
	}
}

	@src/hongbosb/rollingball/model/GLSphereEntity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gÃt
.*;

11 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.*;

14 
impÜt
 
	gjava
.
	gut
.*;

16 
public
 cÏs 
	cGLSph”eEÁ™y
 {

	@src/hongbosb/rollingball/model/Sphere.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gÃt
.*;

11 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.*;

14 
impÜt
 
	gjava
.
	gut
.*;

15 
impÜt
 
	gjava
.
	gio
.*;

16 
impÜt
 
	gjava
.
	gnio
.*;

18 
public
 cÏs 
	cSph”e
 {

20 
public
 
fš®
 
	mTO_RADIANS
 = 
M©h
.
PI
/180;

22 
´iv©e
 
	mmPoštCouÁ
;

23 
´iv©e
 
FlßtBufãr
 
	mmPoštBufãr
;

24 
´iv©e
 
FlßtBufãr
 
	mmCŞÜBufãr
;

25 
´iv©e
 
FlßtBufãr
 
	mmNÜm®Bufãr
;

27 
public
 
	$Sph”e
(
¿dius
, 
deg»eS‹p
) {

28 
	`bud
(
¿dius
, 
deg»eS‹p
);

36 
´iv©e
 
	$bud
(
¿dius
, 
deg»eS‹p
) {

37 
¿dŸnsS‹p
 = ()(
deg»eS‹p
*
TO_RADIANS
);

39 
bufãrSize
 = 400000;

40 
mPoštBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
bufãrSize
)

41 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

42 
mNÜm®Bufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
bufãrSize
).
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

43 
mCŞÜBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
bufãrSize
*4/3).
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

44 
couÁ
 = 0;

45 
phi
 = 0;…h˜<ğ
M©h
.
PI
;…h˜+ğ
¿dŸnsS‹p
) {

46 
th‘a
 = 0;h‘¨<ğ2*
M©h
.
PI
;h‘¨+ğ
¿dŸnsS‹p
) {

47 
mPoštBufãr
.
	`put
(()(
¿dius
*
M©h
.
	`sš
(
phi
)*M©h.
	`cos
(
th‘a
)));

48 
mPoštBufãr
.
	`put
(()(
¿dius
*
M©h
.
	`sš
(
phi
)*M©h.sš(
th‘a
)));

49 
mPoštBufãr
.
	`put
(()(
¿dius
*
M©h
.
	`cos
(
phi
)));

51 
mNÜm®Bufãr
.
	`put
(80*()(
M©h
.
	`sš
(
phi
)*M©h.
	`cos
(
th‘a
)));

52 
mNÜm®Bufãr
.
	`put
(80*()(
M©h
.
	`sš
(
phi
)*M©h.sš(
th‘a
)));

53 
mNÜm®Bufãr
.
	`put
(80*()(
M©h
.
	`cos
(
phi
)));

55 
mCŞÜBufãr
.
	`put
(()0x66/0xff);

56 
mCŞÜBufãr
.
	`put
(()0xcc/0xff);

57 
mCŞÜBufãr
.
	`put
(()0xff/0xff);

58 
mCŞÜBufãr
.
	`put
(()0xff/0xff);

60 
couÁ
 += 1;

63 
mPoštBufãr
.
	`pos™iÚ
(0);

64 
mNÜm®Bufãr
.
	`pos™iÚ
(0);

65 
mCŞÜBufãr
.
	`pos™iÚ
(0);

66 
mPoštCouÁ
 = 
couÁ
;

67 
	}
}

69 
public
 
	$d¿w
(
posHªdËr
, 
nÜm®HªdËr
, 
cŞÜHªdËr
) {

70 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
posHªdËr
,

71 3, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mPoštBufãr
);

72 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
posHªdËr
);

74 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
nÜm®HªdËr
,

75 3, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mNÜm®Bufãr
);

76 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
nÜm®HªdËr
);

78 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
cŞÜHªdËr
,

79 4, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mCŞÜBufãr
);

80 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
cŞÜHªdËr
);

82 
GLES20
.
	`glD¿wA¼ays
(GLES20.
GL_TRIANGLE_FAN
, 0, 
mPoštCouÁ
);

83 
	}
}

	@src/hongbosb/rollingball/util/CommonUtils.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gg¿phics
.*;

11 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gªdroid
.
	gİ’gl
.
	gM©rix
;

14 
impÜt
 
	gjava
.
	gut
.*;

16 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
.*;

18 
public
 cÏs 
	cCommÚUts
 {

20 
´iv©e
 
fš®
 [] 
	mLIGHT_POSITION
 = {0f, 0f, 100f};

22 
public
 [] 
	$š™ProjeùiÚM©rix
() {

23 [] 
m©rix
 = 
Ãw
 [16];

24 
M©rix
.
	`ÜthoM
(
m©rix
, 0,

25 -250.0f*(()
Sh¬edD©a
.
mWšdowWidth
/Sh¬edD©a.
mWšdowHeight
),

26 250.0f*(()
Sh¬edD©a
.
mWšdowWidth
/Sh¬edD©a.
mWšdowHeight
),

30  
m©rix
;

31 
	}
}

33 
public
 [] 
	$š™LightPos™iÚVeùÜ
() {

34  
LIGHT_POSITION
;

35 
	}
}

37 
public
 [] 
	$š™V›wM©rix
() {

38 [] 
m©rix
 = 
Ãw
 [16];

39 
M©rix
.
	`£tLookAtM
(
m©rix
, 0,

41  
m©rix
;

42 
	}
}

	@src/hongbosb/rollingball/util/Loadable.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
š‹rçû
 
	gLßdabË
 {

4 
lßd
();

	@src/hongbosb/rollingball/util/ProgramLoader.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gjava
.
	gut
.*;

13 
impÜt
 
	gjava
.
	gio
.*;

15 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.*;

17 
public
 cÏs 
	cProg¿mLßd”
 
im¶em’ts
 
	mLßdabË
 {

18 
public
 
fš®
 
SŒšg
 
	mTAG
 = "Utils";

20 
public
 
fš®
 
boŞ—n
 
	mDEBUG
 = 
çl£
;

22 
´iv©e
 
SŒšg
 
	mmV”‹xFe
;

23 
´iv©e
 
SŒšg
 
	mmF¿gm’tFe
;

24 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

25 
´iv©e
 
	mSŒšg
[] 
	mmA‰ribNames
;

27 
public
 
	$Prog¿mLßd”
(
CÚ‹xt
 
cÚ‹xt
, 
SŒšg
 
v”‹xFe
, SŒšg 
äagm’tFe
, SŒšg[] 
©Œibs
) {

28 
mCÚ‹xt
 = 
cÚ‹xt
;

29 
mV”‹xFe
 = 
v”‹xFe
;

30 
mF¿gm’tFe
 = 
äagm’tFe
;

31 
mA‰ribNames
 = 
©Œibs
;

34 
´iv©e
 
	$bšdA‰ribs
(
´og¿m
) {

35 
i
 = 0; i < 
mA‰ribNames
.
Ëngth
; i ++) {

36 
SŒšg
 
©Œib
 = 
mA‰ribNames
[
i
];

37 
GLES20
.
	`glBšdA‰ribLoÿtiÚ
(
´og¿m
, 
i
, 
©Œib
);

39 
	}
}

41 @
Ov”ride


42 
public
 
	$lßd
() {

43 
´og¿m
 = 
GLES20
.
	`glC»©eProg¿m
();

44 ià(
´og¿m
 == 0) {

45 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

48 
	`bšdA‰ribs
(
´og¿m
);

50 
v”‹xHªdËr
 = 
	`lßdShad”
(
´og¿m
, 
mV”‹xFe
, 
GLES20
.
GL_VERTEX_SHADER
);

51 
äagm’tHªdËr
 = 
	`lßdShad”
(
´og¿m
, 
mF¿gm’tFe
, 
GLES20
.
GL_FRAGMENT_SHADER
);

52 
GLES20
.
	`glLškProg¿m
(
´og¿m
);

53 
	`checkLškE¼Ü
(
´og¿m
);

54  
´og¿m
;

55 
	}
}

57 
´iv©e
 
	$lßdShad”
(
´og¿m
, 
SŒšg
 
fe
, 
ty³
) {

58 
shad”HªdËr
 = 
GLES20
.
	`glC»©eShad”
(
ty³
);

59 ià(
shad”HªdËr
 == 0) {

60 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

63 
SŒšg
 
sourû
 = 
	`lßdSourû
(
fe
);

64 
GLES20
.
	`glA‰achShad”
(
´og¿m
, 
shad”HªdËr
);

65 
GLES20
.
	`glShad”Sourû
(
shad”HªdËr
, 
sourû
);

66 
GLES20
.
	`glCompeShad”
(
shad”HªdËr
);

67 
	`checkCompeE¼Ü
(
shad”HªdËr
, 
ty³
);

68  
shad”HªdËr
;

69 
	}
}

71 
´iv©e
 
	$checkCompeE¼Ü
(
hªdËr
, 
ty³
) {

72 [] 
»suÉ
 = 
Ãw
 [1];

73 
GLES20
.
	`glG‘Shad”iv
(
hªdËr
, GLES20.
GL_COMPILE_STATUS
, 
»suÉ
, 0);

74 ià(
»suÉ
[0] =ğ
GLES20
.
GL_FALSE
) {

76 
SŒšg
 
ty³SŒ
 = 
ty³
 =ğ
GLES20
.
GL_VERTEX_SHADER
 ? "vertex" : "fragment";

77 
SŒšg
 
log
 = 
GLES20
.
	`glG‘Shad”InfoLog
(
hªdËr
);

78 
Log
.
	`d
(
TAG
, 
ty³SŒ
 + " comp”rÜ:\n" + 
log
);

79 
GLES20
.
	`glD–‘eShad”
(
hªdËr
);

80 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

82 
	}
}

84 
´iv©e
 
	$checkLškE¼Ü
(
´og¿m
) {

85 
»suÉ
[] = 
Ãw
 [1];

86 
GLES20
.
	`glG‘Prog¿miv
(
´og¿m
, GLES20.
GL_LINK_STATUS
, 
»suÉ
, 0);

87 ià(
»suÉ
[0] =ğ
GLES20
.
GL_FALSE
) {

88 
Log
.
	`d
(
TAG
, "lškƒ¼Ü:\n" + 
GLES20
.
	`glG‘Prog¿mInfoLog
(
´og¿m
));

89 
GLES20
.
	`glD–‘eProg¿m
(
´og¿m
);

90 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

92 
	}
}

94 
´iv©e
 
SŒšg
 
	$lßdSourû
(
SŒšg
 
feName
) {

95 
Œy
 {

96 
IÅutSŒ—m
 
š
 = 
mCÚ‹xt
.
	`g‘As£ts
().
	`İ’
(
feName
);

97 
Bufã»dR—d”
 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
š
));

98 
SŒšgBufãr
 
sb
 = 
Ãw
 
	`SŒšgBufãr
();

99 
SŒšg
 
lše
;

100 (
lše
 = 
»ad”
.
	`»adLše
()è!ğ
nuÎ
) {

101 
sb
.
	`­³nd
(
lše
);

102 
sb
.
	`­³nd
('\n');

105 ià(
DEBUG
) {

106 
Log
.
	`d
(
TAG
, "sourû: " + 
sb
.
	`toSŒšg
());

108  
sb
.
	`toSŒšg
();

109 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

110 
e
.
	`´štSckT¿û
();

112  
nuÎ
;

113 
	}
}

	@src/hongbosb/rollingball/util/TextureLoader.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gg¿phics
.*;

11 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

13 
impÜt
 
	gjava
.
	gut
.*;

15 
public
 cÏs 
	cTextu»Lßd”
 
im¶em’ts
 
	mLßdabË
 {

17 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

18 
´iv©e
 
	mmRes
;

20 
public
 
	$Textu»Lßd”
(
CÚ‹xt
 
cÚ‹xt
, 
»s
) {

21 
mCÚ‹xt
 = 
cÚ‹xt
;

22 
mRes
 = 
»s
;

25 @
Ov”ride


26 
public
 
	$lßd
() {

27 
‹xtu»HªdËrs
[] = 
Ãw
 [1];

28 
GLES20
.
	`glG’Textu»s
(1, 
‹xtu»HªdËrs
, 0);

29 
GLES20
.
	`glAùiveTextu»
(GLES20.
GL_TEXTURE0
);

30 
GLES20
.
	`glBšdTextu»
(GLES20.
GL_TEXTURE_2D
, 
‹xtu»HªdËrs
[0]);

31 
GLES20
.
	`glTexP¬am‘”i
(GLES20.
GL_TEXTURE_2D
, GLES20.
GL_TEXTURE_MIN_FILTER
, GLES20.
GL_NEAREST
);

32 
GLES20
.
	`glTexP¬am‘”i
(GLES20.
GL_TEXTURE_2D
, GLES20.
GL_TEXTURE_MAG_FILTER
, GLES20.
GL_NEAREST
);

34 
	`lßdTextu»Resourû
();

35  
‹xtu»HªdËrs
[0];

36 
	}
}

38 
´iv©e
 
	$lßdTextu»Resourû
() {

39 
B™m­FaùÜy
.
O±iÚs
 
İtiÚs
 = 
Ãw
 B™m­FaùÜy.
	`O±iÚs
();

40 
İtiÚs
.
šSÿËd
 = 
çl£
;

41 
B™m­
 
b™m­
 = 
B™m­FaùÜy
.
	`decodeResourû
(
mCÚ‹xt
.
	`g‘Resourûs
(), 
mRes
, 
İtiÚs
);

42 
GLUts
.
	`‹xImage2D
(
GLES20
.
GL_TEXTURE_2D
, 0, 
b™m­
, 0);

44 
	}
}

	@src/hongbosb/rollingball/util/Utils.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gİ’gl
.
	gGLES20
;

6 
public
 cÏs 
	cUts
 {

7 
public
 
fš®
 
SŒšg
 
	mTAG
 = "Utils";

8 
public
 
	$checkGLE¼Ü
() {

9 
”rÜCode
 = 
GLES20
.
	`glG‘E¼Ü
();

10 ià(
”rÜCode
 !ğ
GLES20
.
GL_NO_ERROR
) {

11 
Log
.
	`d
(
TAG
, "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^”rÜ! cod" + 
”rÜCode
 + "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^");

14 
	}
}

	@
1
.
1
/usr/include
20
906
gen/hongbosb/rollingball/BuildConfig.java
gen/hongbosb/rollingball/R.java
src/hongbosb/rollingball/GLInputable.java
src/hongbosb/rollingball/GLTouchable.java
src/hongbosb/rollingball/MainActivity.java
src/hongbosb/rollingball/MyGLSurfaceView.java
src/hongbosb/rollingball/MyRenderer.java
src/hongbosb/rollingball/NaturalConstants.java
src/hongbosb/rollingball/data/EnvironmentData.java
src/hongbosb/rollingball/data/SharedData.java
src/hongbosb/rollingball/model/GLBallEntity.java
src/hongbosb/rollingball/model/GLEntity.java
src/hongbosb/rollingball/model/GLEnvironmentEntity.java
src/hongbosb/rollingball/model/GLSphereEntity.java
src/hongbosb/rollingball/model/Sphere.java
src/hongbosb/rollingball/util/CommonUtils.java
src/hongbosb/rollingball/util/Loadable.java
src/hongbosb/rollingball/util/ProgramLoader.java
src/hongbosb/rollingball/util/TextureLoader.java
src/hongbosb/rollingball/util/Utils.java
