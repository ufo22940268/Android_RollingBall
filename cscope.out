cscope 15 $HOME/workspace/Android_RollingBall -q 0000000303 0000020120
	@gen/hongbosb/rollingball/BuildConfig.java

2 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

4 
public
 
fš®
 cÏs 
	cBudCÚfig
 {

5 
public
 
fš®
 
boŞ—n
 
	mDEBUG
 = 
Œue
;

	@gen/hongbosb/rollingball/R.java

8 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

10 
public
 
fš®
 cÏs 
	cR
 {

11 
public
 
fš®
 cÏs 
	c©Œ
 {

13 
public
 
fš®
 cÏs 
	cd¿wabË
 {

14 
public
 
fš®
 
	gic_Ïunch”
=0x7f020000;

15 
public
 
fš®
 
	gwood_‹xtu»
=0x7f020001;

17 
public
 
fš®
 cÏs 
	cÏyout
 {

18 
public
 
fš®
 
	gmaš
=0x7f030000;

20 
public
 
fš®
 cÏs 
	c¿w
 {

21 
public
 
fš®
 
	g’vœÚm’t_äagm’t_shad”
=0x7f040000;

22 
public
 
fš®
 
	g’vœÚm’t_v”‹x_shad”
=0x7f040001;

24 
public
 
fš®
 cÏs 
	c¡ršg
 {

25 
public
 
fš®
 
	g­p_Çme
=0x7f050000;

	@src/hongbosb/rollingball/GLInputable.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
public
 
š‹rçû
 
	gGLIÅubË
 {

4 
boŞ—n
 
ÚKeyDown
(
keyCode
);

	@src/hongbosb/rollingball/GLTouchable.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
impÜt
 
	gªdroid
.
	gv›w
.*;

5 
public
 
š‹rçû
 
	gGLTouchabË
 {

6 
boŞ—n
 
ÚTouch
(
MÙiÚEv’t
 
ev’t
);

	@src/hongbosb/rollingball/MainActivity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

4 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

7 
public
 cÏs 
	cMašAùiv™y
 
ex‹nds
 
	mAùiv™y


9 
´iv©e
 
MyGLSurçûV›w
 
	mmGlV›w
;

12 @
Ov”ride


13 
public
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
)

15 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

16 
mGlV›w
 = 
Ãw
 
	`MyGLSurçûV›w
(
this
);

17 
	`£tCÚ‹ÁV›w
(
mGlV›w
);

20 @
Ov”ride


21 
public
 
boŞ—n
 
	$ÚKeyDown
(
keyCode
, 
KeyEv’t
 
ev’t
) {

22 ià(
keyCode
 =ğ
KeyEv’t
.
KEYCODE_VOLUME_UP
 || keyCod=ğKeyEv’t.
KEYCODE_VOLUME_DOWN
) {

23 
mGlV›w
.
	`ÚKeyDown
(
keyCode
);

24  
Œue
;

27  
çl£
;

28 
	}
}

	@src/hongbosb/rollingball/MyGLSurfaceView.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
impÜt
 
	gªdroid
.
	g­p
.*;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

5 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

6 
impÜt
 
	gªdroid
.
	gÃt
.*;

7 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gut
.*;

10 
impÜt
 
	gªdroid
.
	gv›w
.*;

11 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

13 
impÜt
 
	gjava
.
	gut
.*;

14 
impÜt
 
	gjavax
.
	gmiüÛd™iÚ
.
	gkhrÚos
.
	gegl
.*;

15 
impÜt
 
	gjavax
.
	gmiüÛd™iÚ
.
	gkhrÚos
.
	gİ’gËs
.*;

17 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
.*;

19 
public
 cÏs 
	cMyGLSurçûV›w
 
ex‹nds
 
GLSurçûV›w
 
im¶em’ts
 
	mGLIÅubË
 {

21 
´iv©e
 
MyR’d””
 
	mmR’d”
;

23 
public
 
	$MyGLSurçûV›w
(
CÚ‹xt
 
cÚ‹xt
) {

24 
	`su³r
(
cÚ‹xt
);

25 
	`£tEGLCÚ‹xtCl›ÁV”siÚ
(2);

26 
mR’d”
 = 
Ãw
 
	`MyR’d””
(
cÚ‹xt
);

27 
	`£tR’d””
(
mR’d”
);

30 
public
 
boŞ—n
 
	$ÚKeyDown
(
keyCode
) {

31 
mR’d”
.
	`ÚKeyDown
(
keyCode
);

32  
Œue
;

33 
	}
}

35 @
Ov”ride


36 
public
 
boŞ—n
 
	$ÚTouchEv’t
(
MÙiÚEv’t
 
ev’t
) {

37  
mR’d”
.
	`ÚTouch
(
ev’t
);

38 
	}
}

40 
public
 
şass
 
MyR’d””
 
im¶em’ts
 
	gGLSurçûV›w
.
	gR’d””
, 
	gGLIÅubË
 {

42 
´iv©e
 
CÚ‹xt
 
	gmCÚ‹xt
;

44 
´iv©e
 
GLEnvœÚm’tEÁ™y
 
	gmEÁ™y
;

46 
public
 
MyR’d””
(
CÚ‹xt
 
cÚ‹xt
) {

47 
	gmCÚ‹xt
 = 
cÚ‹xt
;

50 
public
 
ÚSurçûC»©ed
(
GL10
 
gl
, 
EGLCÚfig
 
cÚfig
) {

53 
public
 
ÚSurçûChªged
(
GL10
 
gl
, 
width
, 
height
) {

54 
	gmEÁ™y
 = 
Ãw
 
GLEnvœÚm’tEÁ™y
(
mCÚ‹xt
, 
width
, 
height
);

57 
public
 
ÚD¿wF¿me
(
GL10
 
gl
) {

58 
	gmEÁ™y
.
d¿w
();

61 @
Ov”ride


62 
public
 
boŞ—n
 
ÚKeyDown
(
keyCode
) {

63 ià(
	gmEÁ™y
 !ğ
nuÎ
) {

64  
mEÁ™y
.
ÚKeyDown
(
keyCode
);

66  
	gçl£
;

69 
public
 
boŞ—n
 
ÚTouch
(
MÙiÚEv’t
 
ev’t
) {

70 ià(
	gmEÁ™y
 !ğ
nuÎ
) {

71  
mEÁ™y
.
ÚTouch
(
ev’t
);

73  
	gçl£
;

	@src/hongbosb/rollingball/MyRenderer.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

	@src/hongbosb/rollingball/NaturalConstants.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
;

3 
public
 cÏs 
	cN©u¿lCÚ¡ªts
 {

4 
public
 
fš®
 
	mFLOAT_SIZE
 = 4;

	@src/hongbosb/rollingball/data/EnvironmentData.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
;

3 
public
 cÏs 
	cEnvœÚm’tD©a
 {

5 
public
 
fš®
 
	mNORMAL_SCALE
 = 80.0f;

7 
public
 
fš®
 
	mWALL_HEIGHT
 = 40;

8 
public
 
fš®
 
	mWALL_WIDTH
 = 20;

10 
public
 
fš®
 
	mWALL_ABS_INNER_X
 = 100 - 
WALL_WIDTH
;

11 
public
 
fš®
 
	mWALL_ABS_INNER_Y
 = 100 - 
WALL_WIDTH
;

12 
public
 
fš®
 
	mWALL_ABS_OUTER_X
 = 100;

13 
public
 
fš®
 
	mWALL_ABS_OUTER_Y
 = 100;

15 
public
 
fš®
 
	mTRIANGLE_POS_ARRAY
[] = {

17 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

18 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

19 -
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

20 -
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

21 
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

22 
WALL_ABS_OUTER_X
 , -
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

23 
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

24 
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

25 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

26 -
WALL_ABS_OUTER_X
 , 
WALL_ABS_OUTER_Y
 , 
WALL_HEIGHT
 ,

29 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

30 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

31 -
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 0 ,

32 -
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

34 
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 0 ,

35 
WALL_ABS_INNER_X
 , -
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

36 
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

37 
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

38 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 0 ,

39 -
WALL_ABS_INNER_X
 , 
WALL_ABS_INNER_Y
 , 
WALL_HEIGHT
 ,

42 
public
 
fš®
 
	gNORMAL_ARRAY
[] = {

44 0.0à, 0.0à, 
NORMAL_SCALE
 ,

45 0.0à, 0.0à, 
NORMAL_SCALE
 ,

46 0.0à, 0.0à, 
NORMAL_SCALE
 ,

47 0.0à, 0.0à, 
NORMAL_SCALE
 ,

48 0.0à, 0.0à, 
NORMAL_SCALE
 ,

49 0.0à, 0.0à, 
NORMAL_SCALE
 ,

50 0.0à, 0.0à, 
NORMAL_SCALE
 ,

51 0.0à, 0.0à, 
NORMAL_SCALE
 ,

52 0.0à, 0.0à, 
NORMAL_SCALE
 ,

53 0.0à, 0.0à, 
NORMAL_SCALE
 ,

56 
NORMAL_SCALE
 , 0.0f , 0.0f ,

57 
NORMAL_SCALE
 , 0.0f , 0.0f ,

58 
NORMAL_SCALE
 , 0.0f , 0.0f ,

59 
NORMAL_SCALE
 , 0.0f , 0.0f ,

60 0.0à, 
NORMAL_SCALE
 , 0.0f ,

61 0.0à, 
NORMAL_SCALE
 , 0.0f ,

62 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

63 -
NORMAL_SCALE
 , 0.0f , 0.0f ,

64 0.0à, -
NORMAL_SCALE
 , 0.0f ,

65 0.0à, -
NORMAL_SCALE
 , 0.0f ,

70 
public
 
fš®
 
	gVERTEX_COLOR_ARRAY
[] = {

96 
public
 
fš®
 
	gTEXTURE_COORD_ARRAY
[] = {

	@src/hongbosb/rollingball/model/GLEntity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

4 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

7 
public
 
ab¡¿ù
 
şass
 
GLEÁ™y
 
im¶em’ts
 
	gGLIÅubË
, 
	gGLTouchabË
 {

8 
public
 
ab¡¿ù
 
d¿w
();

10 @
Ov”ride


11 
public
 
boŞ—n
 
ÚKeyDown
(
keyCode
) {

12  
	gçl£
;

15 @
Ov”ride


16 
public
 
boŞ—n
 
ÚTouch
(
MÙiÚEv’t
 
ev’t
) {

17  
	gçl£
;

	@src/hongbosb/rollingball/model/GLEnvironmentEntity.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gmod–
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gjava
.
	gut
.*;

13 
impÜt
 
	gjava
.
	gnio
.*;

15 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
.*;

16 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.*;

17 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gd©a
.*;

19 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gN©u¿lCÚ¡ªts
.*;

21 
public
 cÏs 
	cGLEnvœÚm’tEÁ™y
 
ex‹nds
 
	mGLEÁ™y
 {

23 
public
 
fš®
 
	mROTATE_SCALE_FACTOR
 = 0.5f;

25 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

26 
´iv©e
 
	mmWšdowWidth
;

27 
´iv©e
 
	mmWšdowHeight
;

29 
´iv©e
 
	mmP»viousX
;

30 
´iv©e
 
	mmP»viousY
;

32 
´Ùeùed
 
	mmProg¿m
;

34 
´iv©e
 
FlßtBufãr
 
	mmPosBufãr
;

35 
´iv©e
 
FlßtBufãr
 
	mmNÜm®Bufãr
;

36 
´iv©e
 
FlßtBufãr
 
	mmCŞÜBufãr
;

37 
´iv©e
 
FlßtBufãr
 
	mmTexCoÜdBufãr
;

39 
´iv©e
 
	mmaV”‹xPosHªdËr
;

40 
´iv©e
 
	mmaTexCoÜdHªdËr
;

41 
´iv©e
 
	mmaV”‹xCŞÜHªdËr
;

42 
´iv©e
 
	mmaNÜm®HªdËr
;

43 
´iv©e
 
	mmuMVPM©rixHªdËr
;

44 
´iv©e
 
	mmuMVM©rixHªdËr
;

45 
´iv©e
 
	mmuSam¶”HªdËr
;

46 
´iv©e
 
	mmuLightPosHªdËr
;

47 
´iv©e
 
	mmTextu»HªdËr
;

49 
´iv©e
 [] 
	mmMVPM©rix
 = 
Ãw
 [16];

50 
´iv©e
 [] 
	mmV›wM©rix
 = 
Ãw
 [16];

51 
´iv©e
 [] 
	mmMod–M©rix
 = 
Ãw
 [16];

52 
´iv©e
 [] 
	mmProjeùiÚM©rix
 = 
Ãw
 [16];

53 
´iv©e
 [] 
	mmLightMod–M©rix
 = 
Ãw
 [16];

55 
´iv©e
 
	mmV›wX
 = 0.0f;

56 
´iv©e
 
	mmV›wY
 = 0.0f;

57 
´iv©e
 
	mmV›wZ
 = 200.0f;

60 
´iv©e
 
	mmV”tiÿlRÙ©eAngË
 = -30.0f;

63 
´iv©e
 
	mmHÜizÚlRÙ©eAngË
 = 0.0f;

65 
´iv©e
 
	mmLightPosInMod–S·û
[] = {0.0f, 0.0f, 0.0f, 1.0f};

66 
´iv©e
 
	gmLightPosInEyeS·û
[] = 
Ãw
 [4];

67 
´iv©e
 
	gmLightPosInWÜldS·û
[] = 
Ãw
 [4];

69 
public
 
	$GLEnvœÚm’tEÁ™y
(
CÚ‹xt
 
cÚ‹xt
, 
width
, 
height
) {

70 
mCÚ‹xt
 = 
cÚ‹xt
;

71 
mWšdowWidth
 = 
width
;

72 
mWšdowHeight
 = 
height
;

74 
GLES20
.
	`glV›wpÜt
(0, 0, 
width
, 
height
);

75 
GLES20
.
	`glCË¬CŞÜ
(0.0f, 0.0f, 0.0f, 1.0f);

78 
SŒšg
[] 
©Œibs
 = {"a_VertexPos", "a_TexCoord", "a_Color", "a_Normal",};

79 
Prog¿mLßd”
 
pLßd”
 = 
Ãw
 
	`Prog¿mLßd”
(
cÚ‹xt
,

80 "’vœÚm’t_v”‹x_shad”.gl¦", "’vœÚm’t_äagm’t_shad”.gl¦", 
©Œibs
 );

81 
mProg¿m
 = 
pLßd”
.
	`lßd
();

83 
maV”‹xPosHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_VertexPos");

84 
maTexCoÜdHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_TexCoord");

85 
maV”‹xCŞÜHªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_Color");

86 
maNÜm®HªdËr
 = 
GLES20
.
	`glG‘A‰ribLoÿtiÚ
(
mProg¿m
, "a_Normal");

88 
muMVPM©rixHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_MVPMatrix");

89 
muMVM©rixHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_MVMatrix");

90 
muSam¶”HªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_Sampler");

91 
muLightPosHªdËr
 = 
GLES20
.
	`glG‘UnifÜmLoÿtiÚ
(
mProg¿m
, "u_LightPos");

93 
mPosBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
TRIANGLE_POS_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

94 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

95 
mPosBufãr
.
	`put
(
EnvœÚm’tD©a
.
TRIANGLE_POS_ARRAY
).
	`pos™iÚ
(0);

97 
mNÜm®Bufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
NORMAL_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

98 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

99 
mNÜm®Bufãr
.
	`put
(
EnvœÚm’tD©a
.
NORMAL_ARRAY
).
	`pos™iÚ
(0);

101 
mCŞÜBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
VERTEX_COLOR_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

102 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

103 
mCŞÜBufãr
.
	`put
(
EnvœÚm’tD©a
.
VERTEX_COLOR_ARRAY
).
	`pos™iÚ
(0);

105 
M©rix
.
	`£tLookAtM
(
mV›wM©rix
, 0,

106 
mV›wX
, 
mV›wY
, 
mV›wZ
, 0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f);

109 
Textu»Lßd”
 
tLßd”
 = 
Ãw
 
	`Textu»Lßd”
(
cÚ‹xt
, 
R
.
d¿wabË
.
wood_‹xtu»
);

110 
mTextu»HªdËr
 = 
tLßd”
.
	`lßd
();

112 
mTexCoÜdBufãr
 = 
By‹Bufãr
.
	`®loÿ‹Dœeù
(
EnvœÚm’tD©a
.
TEXTURE_COORD_ARRAY
.
Ëngth
*
FLOAT_SIZE
)

113 .
	`Üd”
(
By‹Ord”
.
	`ÇtiveOrd”
()).
	`asFlßtBufãr
();

114 
mTexCoÜdBufãr
.
	`put
(
EnvœÚm’tD©a
.
TEXTURE_COORD_ARRAY
).
	`pos™iÚ
(0);

116 
GLES20
.
	`glEÇbË
(GLES20.
GL_DEPTH_TEST
);

117 
GLES20
.
	`glEÇbË
(GLES20.
GL_CULL_FACE
);

120 
	}
}

122 @
Ov”ride


123 
public
 
boŞ—n
 
	$ÚKeyDown
(
keyCode
) {

124 ià(
keyCode
 =ğ
KeyEv’t
.
KEYCODE_VOLUME_UP
) {

125 
mV›wX
 += 0.3;

126  
Œue
;

127 } ià(
keyCode
 =ğ
KeyEv’t
.
KEYCODE_VOLUME_DOWN
) {

128 
mV›wX
 -= 0.3;

129  
Œue
;

131  
çl£
;

132 
	}
}

134 
´iv©e
 
	$rÙ©e
(
dV”t
, 
dHÜi
) {

135 
mV”tiÿlRÙ©eAngË
 -ğ
dV”t
;

136 
mHÜizÚlRÙ©eAngË
 +ğ
dHÜi
;

137 
	}
}

139 @
Ov”ride


140 
public
 
boŞ—n
 
	$ÚTouch
(
MÙiÚEv’t
 
ev’t
) {

141 
x
 = 
ev’t
.
	`g‘X
();

142 
y
 = 
ev’t
.
	`g‘Y
();

143 ià(
ev’t
.
	`g‘AùiÚ
(è=ğ
MÙiÚEv’t
.
ACTION_MOVE
) {

144 
dx
 = 
x
 - 
mP»viousX
;

145 
dy
 = 
y
 - 
mP»viousY
;

146 
	`rÙ©e
(
dx
*
ROTATE_SCALE_FACTOR
, 
dy
*ROTATE_SCALE_FACTOR);

148 
mP»viousX
 = 
x
;

149 
mP»viousY
 = 
y
;

150  
Œue
;

151 
	}
}

153 
´iv©e
 
Tim”Task
 
	gmUpd©ePosTim”
 = 
Ãw
 
	$Tim”Task
() {

154 @
Ov”ride


155 
public
 
	`run
() {

156 
	`upd©eD©a
();

159 
´iv©e
 
	`upd©eD©a
() {

162 
mV”tiÿlRÙ©eAngË
 -ğ
M©h
.
PI
/6;

164 
	}
};

166 
´iv©e
 
	$¡¬tTim”
() {

167 
Tim”
 
tim”
 = 
Ãw
 
	`Tim”
("view dataimer");

168 
tim”
.
	`scheduË
(
mUpd©ePosTim”
, 0, 10);

169 
	}
}

171 @
Ov”ride


172 
public
 
	$d¿w
() {

173 
GLES20
.
	`glCË¬
(GLES20.
GL_COLOR_BUFFER_BIT
 | GLES20.
GL_DEPTH_BUFFER_BIT
);

175 
GLES20
.
	`glU£Prog¿m
(
mProg¿m
);

177 
M©rix
.
	`£tId’t™yM
(
mMod–M©rix
, 0);

178 
M©rix
.
	`rÙ©eM
(
mMod–M©rix
, 0, 
mV”tiÿlRÙ©eAngË
, 0.0f, 1.0f, 0.0f);

179 
M©rix
.
	`rÙ©eM
(
mMod–M©rix
, 0, 
mHÜizÚlRÙ©eAngË
, 1.0f, 0.0f, 0.0f);

181 
M©rix
.
	`muÉlyMM
(
mMVPM©rix
, 0, 
mV›wM©rix
, 0, 
mMod–M©rix
, 0);

182 
GLES20
.
	`glUnifÜmM©rix4fv
(
muMVM©rixHªdËr
, 1, 
çl£
, 
mMVPM©rix
, 0);

184 
M©rix
.
	`ÜthoM
(
mProjeùiÚM©rix
, 0,

185 -250.0f*(()
mWšdowWidth
/
mWšdowHeight
), 250.0f*(()mWindowWidth/mWindowHeight), -250.0f, 250.0f,

187 
M©rix
.
	`muÉlyMM
(
mMVPM©rix
, 0, 
mProjeùiÚM©rix
, 0, mMVPMatrix, 0);

188 
GLES20
.
	`glUnifÜmM©rix4fv
(
muMVPM©rixHªdËr
, 1, 
çl£
, 
mMVPM©rix
, 0);

190 
M©rix
.
	`£tId’t™yM
(
mLightMod–M©rix
, 0);

191 
M©rix
.
	`Œª¦©eM
(
mLightMod–M©rix
, 0, 0.0f, 0.0f, 180.0f);

192 
M©rix
.
	`muÉlyMV
(
mLightPosInWÜldS·û
, 0, 
mLightMod–M©rix
, 0, 
mLightPosInMod–S·û
, 0);

193 
M©rix
.
	`muÉlyMV
(
mLightPosInEyeS·û
, 0, 
mV›wM©rix
, 0, 
mLightPosInWÜldS·û
, 0);

194 
GLES20
.
	`glUnifÜm3fv
(
muLightPosHªdËr
, 1, 
mLightPosInEyeS·û
, 0);

198 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maTexCoÜdHªdËr
,

199 2, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mTexCoÜdBufãr
);

200 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maTexCoÜdHªdËr
);

201 
GLES20
.
	`glUnifÜm1i
(
muSam¶”HªdËr
, 0);

203 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maV”‹xCŞÜHªdËr
,

204 4, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mCŞÜBufãr
);

205 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maV”‹xCŞÜHªdËr
);

207 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maV”‹xPosHªdËr
,

208 3, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mPosBufãr
);

209 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maV”‹xPosHªdËr
);

211 
GLES20
.
	`glV”‹xA‰ribPoš‹r
(
maNÜm®HªdËr
,

212 3, 
GLES20
.
GL_FLOAT
, 
çl£
, 0, 
mNÜm®Bufãr
);

213 
GLES20
.
	`glEÇbËV”‹xA‰ribA¼ay
(
maNÜm®HªdËr
);

215 
GLES20
.
	`glD¿wA¼ays
(GLES20.
GL_TRIANGLE_STRIP
, 0, 10);

216 
GLES20
.
	`glD¿wA¼ays
(GLES20.
GL_TRIANGLE_STRIP
, 10, 10);

219 
	}
}

	@src/hongbosb/rollingball/util/Loadable.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
š‹rçû
 
	gLßdabË
 {

4 
lßd
();

	@src/hongbosb/rollingball/util/ProgramLoader.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

12 
impÜt
 
	gjava
.
	gut
.*;

13 
impÜt
 
	gjava
.
	gio
.*;

15 
impÜt
 
	ghÚgbosb
.
	grŞlšgb®l
.*;

17 
public
 cÏs 
	cProg¿mLßd”
 
im¶em’ts
 
	mLßdabË
 {

18 
public
 
fš®
 
SŒšg
 
	mTAG
 = "Utils";

20 
public
 
fš®
 
boŞ—n
 
	mDEBUG
 = 
çl£
;

22 
´iv©e
 
SŒšg
 
	mmV”‹xFe
;

23 
´iv©e
 
SŒšg
 
	mmF¿gm’tFe
;

24 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

25 
´iv©e
 
	mSŒšg
[] 
	mmA‰ribNames
;

27 
public
 
	$Prog¿mLßd”
(
CÚ‹xt
 
cÚ‹xt
, 
SŒšg
 
v”‹xFe
, SŒšg 
äagm’tFe
, SŒšg[] 
©Œibs
) {

28 
mCÚ‹xt
 = 
cÚ‹xt
;

29 
mV”‹xFe
 = 
v”‹xFe
;

30 
mF¿gm’tFe
 = 
äagm’tFe
;

31 
mA‰ribNames
 = 
©Œibs
;

34 
´iv©e
 
	$bšdA‰ribs
(
´og¿m
) {

35 
i
 = 0; i < 
mA‰ribNames
.
Ëngth
; i ++) {

36 
SŒšg
 
©Œib
 = 
mA‰ribNames
[
i
];

37 
GLES20
.
	`glBšdA‰ribLoÿtiÚ
(
´og¿m
, 
i
, 
©Œib
);

39 
	}
}

41 @
Ov”ride


42 
public
 
	$lßd
() {

43 
´og¿m
 = 
GLES20
.
	`glC»©eProg¿m
();

44 ià(
´og¿m
 == 0) {

45 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

48 
	`bšdA‰ribs
(
´og¿m
);

50 
v”‹xHªdËr
 = 
	`lßdShad”
(
´og¿m
, 
mV”‹xFe
, 
GLES20
.
GL_VERTEX_SHADER
);

51 
äagm’tHªdËr
 = 
	`lßdShad”
(
´og¿m
, 
mF¿gm’tFe
, 
GLES20
.
GL_FRAGMENT_SHADER
);

52 
GLES20
.
	`glLškProg¿m
(
´og¿m
);

53 
	`checkLškE¼Ü
(
´og¿m
);

54  
´og¿m
;

55 
	}
}

57 
´iv©e
 
	$lßdShad”
(
´og¿m
, 
SŒšg
 
fe
, 
ty³
) {

58 
shad”HªdËr
 = 
GLES20
.
	`glC»©eShad”
(
ty³
);

59 ià(
shad”HªdËr
 == 0) {

60 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

63 
SŒšg
 
sourû
 = 
	`lßdSourû
(
fe
);

64 
GLES20
.
	`glA‰achShad”
(
´og¿m
, 
shad”HªdËr
);

65 
GLES20
.
	`glShad”Sourû
(
shad”HªdËr
, 
sourû
);

66 
GLES20
.
	`glCompeShad”
(
shad”HªdËr
);

67 
	`checkCompeE¼Ü
(
shad”HªdËr
, 
ty³
);

68  
shad”HªdËr
;

69 
	}
}

71 
´iv©e
 
	$checkCompeE¼Ü
(
hªdËr
, 
ty³
) {

72 [] 
»suÉ
 = 
Ãw
 [1];

73 
GLES20
.
	`glG‘Shad”iv
(
hªdËr
, GLES20.
GL_COMPILE_STATUS
, 
»suÉ
, 0);

74 ià(
»suÉ
[0] =ğ
GLES20
.
GL_FALSE
) {

76 
SŒšg
 
ty³SŒ
 = 
ty³
 =ğ
GLES20
.
GL_VERTEX_SHADER
 ? "vertex" : "fragment";

77 
SŒšg
 
log
 = 
GLES20
.
	`glG‘Shad”InfoLog
(
hªdËr
);

78 
Log
.
	`d
(
TAG
, 
ty³SŒ
 + " comp”rÜ:\n" + 
log
);

79 
GLES20
.
	`glD–‘eShad”
(
hªdËr
);

80 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

82 
	}
}

84 
´iv©e
 
	$checkLškE¼Ü
(
´og¿m
) {

85 
»suÉ
[] = 
Ãw
 [1];

86 
GLES20
.
	`glG‘Prog¿miv
(
´og¿m
, GLES20.
GL_LINK_STATUS
, 
»suÉ
, 0);

87 ià(
»suÉ
[0] =ğ
GLES20
.
GL_FALSE
) {

88 
Log
.
	`d
(
TAG
, "lškƒ¼Ü:\n" + 
GLES20
.
	`glG‘Prog¿mInfoLog
(
´og¿m
));

89 
GLES20
.
	`glD–‘eProg¿m
(
´og¿m
);

90 
throw
 
Ãw
 
	`GLExû±iÚ
(0);

92 
	}
}

94 
´iv©e
 
SŒšg
 
	$lßdSourû
(
SŒšg
 
feName
) {

95 
Œy
 {

96 
IÅutSŒ—m
 
š
 = 
mCÚ‹xt
.
	`g‘As£ts
().
	`İ’
(
feName
);

97 
Bufã»dR—d”
 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
š
));

98 
SŒšgBufãr
 
sb
 = 
Ãw
 
	`SŒšgBufãr
();

99 
SŒšg
 
lše
;

100 (
lše
 = 
»ad”
.
	`»adLše
()è!ğ
nuÎ
) {

101 
sb
.
	`­³nd
(
lše
);

102 
sb
.
	`­³nd
('\n');

105 ià(
DEBUG
) {

106 
Log
.
	`d
(
TAG
, "sourû: " + 
sb
.
	`toSŒšg
());

108  
sb
.
	`toSŒšg
();

109 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

110 
e
.
	`´štSckT¿û
();

112  
nuÎ
;

113 
	}
}

	@src/hongbosb/rollingball/util/TextureLoader.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gwidg‘
.*;

5 
impÜt
 
	gªdroid
.
	gv›w
.*;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.*;

7 
impÜt
 
	gªdroid
.
	g­p
.*;

8 
impÜt
 
	gªdroid
.
	gos
.*;

9 
impÜt
 
	gªdroid
.
	gd©aba£
.*;

10 
impÜt
 
	gªdroid
.
	gg¿phics
.*;

11 
impÜt
 
	gªdroid
.
	gİ’gl
.*;

13 
impÜt
 
	gjava
.
	gut
.*;

15 
public
 cÏs 
	cTextu»Lßd”
 
im¶em’ts
 
	mLßdabË
 {

17 
´iv©e
 
CÚ‹xt
 
	mmCÚ‹xt
;

18 
´iv©e
 
	mmRes
;

20 
public
 
	$Textu»Lßd”
(
CÚ‹xt
 
cÚ‹xt
, 
»s
) {

21 
mCÚ‹xt
 = 
cÚ‹xt
;

22 
mRes
 = 
»s
;

25 @
Ov”ride


26 
public
 
	$lßd
() {

27 
‹xtu»HªdËrs
[] = 
Ãw
 [1];

28 
GLES20
.
	`glG’Textu»s
(1, 
‹xtu»HªdËrs
, 0);

29 
GLES20
.
	`glAùiveTextu»
(GLES20.
GL_TEXTURE0
);

30 
GLES20
.
	`glBšdTextu»
(GLES20.
GL_TEXTURE_2D
, 
‹xtu»HªdËrs
[0]);

31 
GLES20
.
	`glTexP¬am‘”i
(GLES20.
GL_TEXTURE_2D
, GLES20.
GL_TEXTURE_MIN_FILTER
, GLES20.
GL_NEAREST
);

32 
GLES20
.
	`glTexP¬am‘”i
(GLES20.
GL_TEXTURE_2D
, GLES20.
GL_TEXTURE_MAG_FILTER
, GLES20.
GL_NEAREST
);

34 
	`lßdTextu»Resourû
();

35  
‹xtu»HªdËrs
[0];

36 
	}
}

38 
´iv©e
 
	$lßdTextu»Resourû
() {

39 
B™m­FaùÜy
.
O±iÚs
 
İtiÚs
 = 
Ãw
 B™m­FaùÜy.
	`O±iÚs
();

40 
İtiÚs
.
šSÿËd
 = 
çl£
;

41 
B™m­
 
b™m­
 = 
B™m­FaùÜy
.
	`decodeResourû
(
mCÚ‹xt
.
	`g‘Resourûs
(), 
mRes
, 
İtiÚs
);

42 
GLUts
.
	`‹xImage2D
(
GLES20
.
GL_TEXTURE_2D
, 0, 
b™m­
, 0);

44 
	}
}

	@src/hongbosb/rollingball/util/Utils.java

1 
·ckage
 
	ghÚgbosb
.
	grŞlšgb®l
.
	gut
;

3 
impÜt
 
	gªdroid
.
	gut
.*;

4 
impÜt
 
	gªdroid
.
	gİ’gl
.
	gGLES20
;

6 
public
 cÏs 
	cUts
 {

7 
public
 
fš®
 
SŒšg
 
	mTAG
 = "Utils";

8 
public
 
	$checkGLE¼Ü
() {

9 
”rÜCode
 = 
GLES20
.
	`glG‘E¼Ü
();

10 ià(
”rÜCode
 !ğ
GLES20
.
GL_NO_ERROR
) {

11 
Log
.
	`d
(
TAG
, "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^”rÜ! cod" + 
”rÜCode
 + "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^");

14 
	}
}

	@
1
.
1
/usr/include
15
670
gen/hongbosb/rollingball/BuildConfig.java
gen/hongbosb/rollingball/R.java
src/hongbosb/rollingball/GLInputable.java
src/hongbosb/rollingball/GLTouchable.java
src/hongbosb/rollingball/MainActivity.java
src/hongbosb/rollingball/MyGLSurfaceView.java
src/hongbosb/rollingball/MyRenderer.java
src/hongbosb/rollingball/NaturalConstants.java
src/hongbosb/rollingball/data/EnvironmentData.java
src/hongbosb/rollingball/model/GLEntity.java
src/hongbosb/rollingball/model/GLEnvironmentEntity.java
src/hongbosb/rollingball/util/Loadable.java
src/hongbosb/rollingball/util/ProgramLoader.java
src/hongbosb/rollingball/util/TextureLoader.java
src/hongbosb/rollingball/util/Utils.java
